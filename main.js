(()=>{"use strict";function e(e){e.classList.remove("popup_is-opened"),e.removeEventListener("click",t),document.removeEventListener("keydown",n)}function t(t){t.currentTarget===t.target&&e(t.currentTarget)}function n(t){"Escape"===t.key&&e(document.querySelector(".popup_is-opened"))}const o=document.querySelector(".form-add-task"),s=document.querySelector(".todo__add-task-input"),c=document.querySelector(".todo__tasks-list"),d=(document.querySelector(".popup__close-btn"),document.querySelector(".popup"));o.addEventListener("submit",(function(e){e.preventDefault();const t=`\n       <li class="todo__tasks-item">\n          <h4 class="todo__tasks-items-title">\n              ${s.value}\n          </h4>\n          <button class="todo__tasks-items-button" >Открыт</button>\n      </li>`;c.insertAdjacentHTML("beforeend",t),s.value="",s.focus()})),c.addEventListener("click",(function(e){if("delete"===e.target.dataset.action){const t=e.target.closest(".todo__tasks-item");console.log(t)}})),c.addEventListener("click",(()=>{!function(e){e.classList.add("popup_is-animated"),setTimeout((()=>{e.classList.add("popup_is-opened")}),1),e.addEventListener("click",t),document.addEventListener("keydown",n)}(d)}))})();